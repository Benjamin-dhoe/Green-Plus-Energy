<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <title>Paswoord</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/greenplus-energy.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Inconsolata:400,700"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body class="body">
  <div class="section">
        <div class="contain-center paddabove">
              <h2 class="heading">Paswoord vergeten</h2>
              <div class="form-block w-form">
                <form class="form" id="login-form">
                  <div class="holderinputfield">
                    <label for="Email" class="inputlabel greenbg">Email</label>
                    <input class="inputfield w-input" maxlength="256" name="Email" id="email" placeholder="" type="email">
                  </div>
                  <div id="error-message" class="error-melding"></div>
                  <button id="resetpaswoordbtn" class="button w-button">Stuur reset email</button>
                  <div style="margin-top: 20px;">
                    <a href="admin.html" class="paswoord-forget" style="color: white; margin-top: 10px;">Inloggen</a>
                  </div>
                </form>
          </div>
        </div>
      </div> 
<script src="/js/index.js" type="text/javascript"></script>
  <script type="module">
      import { auth, app } from '/js/firebase.js';
    import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
  
    function resetPassword() {
      const email = document.getElementById('email').value;
      const errorMessageResetEl = document.getElementById('error-message');
      
  
      if (!email) {
        errorMessageResetEl.style.display = "block";
        errorMessageResetEl.textContent = "Geef email adres in om wachtwoord te resetten";
        return;
      }
  
      sendPasswordResetEmail(auth, email)
        .then(() => {
          alert("Email verstuurd!");
        })
        .catch((error) => {
          console.error("Password reset error:", error);
          errorMessageResetEl.textContent = "Error: " + error.message;
          errorMessageResetEl.style.display = "block";
        });
    }
  
    document.getElementById('resetpaswoordbtn').addEventListener('click', resetPassword);
  
  
  </script>
</script>
</body>
</html>
